<div class="card flex flex-wrap gap-4">
	<div class="flex gap-4 w-full">
		<p-floatlabel variant="on" class="w-full">
			<p-select [options]="cities.items" appendTo="body" [(ngModel)]="objCompanyAddress().city" name="city"  optionLabel="name" [filter]="true" filterBy="name" [showClear]="true" class="w-full" (onChange)="getTowns()" >
				<ng-template let-data #item>
					<div class="flex items-center gap-2">
						<div>{{ data.name }}</div>
					</div>
				</ng-template>
			</p-select>
		</p-floatlabel>

		<p-floatlabel variant="on" class="w-full">
			<p-select [options]="towns.items" appendTo="body" [(ngModel)]="objCompanyAddress().town" name="town" optionLabel="name" [filter]="true" filterBy="name" [showClear]="true" class="w-full">
				<ng-template let-data #item>
					<div class="flex items-center gap-2">
						<div>{{ data.name }}</div>
					</div>
				</ng-template>
			</p-select>
		</p-floatlabel>
		<p-floatlabel variant="on" class="w-full">
			<input pInputText id="on_label" [(ngModel)]="objCompanyAddress().street" name="street" autocomplete="off" class="w-full" />
			<label for="on_label">Mahalle</label>
		</p-floatlabel>
	</div>

	<p-floatlabel variant="on" class="w-full">
		<textarea pTextarea id="on_label" [(ngModel)]="objCompanyAddress().description" rows="5" cols="30" class="w-full"></textarea>
		<label for="on_label">Açık adres</label>
	</p-floatlabel>
	<p-button icon="pi pi-plus" class="ml-auto" label="Adres Ekle" severity="success" (onClick)="addAddress()"></p-button>
</div>

<div class="card">
	<p-table #dt2 [value]="companyAddresses()"    [showLoader]="true" [scrollable]="true" scrollHeight="flex" [globalFilterFields]="['name', 'country.name', 'representative.name', 'status']">
		<ng-template #header>
			<tr>
				<th>Şehir</th>
				<th>İlçe</th>
				<th>Sokak</th>
				<th>Açık Adres</th>
				<th style="width: 25px"></th>
			</tr>
		</ng-template>
		<ng-template #body let-data let-rowIndex="rowIndex">
			<tr>
				<td>{{ data.cityName }}</td>
				<td>{{ data.townName }}</td>
				<td>{{ data.street }}</td>
				<td>{{ data.description }}</td>
				<th style="width: 25px">
					<p-button icon="pi pi-trash" severity="danger" (onClick)="removeAddress(rowIndex)" ></p-button>
				</th>
			</tr>
		</ng-template>
		<ng-template #emptymessage>
			<tr>
				<td colspan="5">Adres Bulunamadı.</td>
			</tr>
		</ng-template>
	</p-table>
</div>


<pre>
    {{ objCompanyAddress() | json }}
</pre>
